<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>AGE Consultation Form</title>
        <link rel="stylesheet" href="../CSS/age.css">
    </head>

    <body>
        <h2>Wedding Consultation Form</h2>
        <form id="contact-form" action="https://formsubmit.co/hello@arnishagaitherevents.com" method="POST">
            <input type="hidden" name="_subject" value="New submission from AGE Consultation Form">

            <label for="name">Your Name*</label>
            <input type="text" id="name" name="name" required>

            <label for="partner_name">Partner's Name*</label>
            <input type="text" id="partner_name" name="partner_name" required>

            <label for="email">Email*</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">Phone Number*</label>
            <input type="tel" id="phone" name="phone" required>

            <label for="wedding_date">Wedding Date*</label>
            <input type="date" id="wedding_date" name="wedding_date" required>

            <label for="wedding_location">Wedding Location (if applicable)</label>
            <input type="text" id="wedding_location" name="wedding_location">

            <label for="preferred_consultation_date">Preferred Consultation Date*</label>
            <input type="date" id="preferred_consultation_date" name="preferred_consultation_date" required>

            <label for="preferred_consultation_time">Preferred Consultation Time*</label>
            <input type="time" id="preferred_consultation_time" name="preferred_consultation_time" required>

            <input id="submit" type="submit" value="Submit">
        </form>

        <script>
            document.getElementById('contact-form').addEventListener('submit', function(event) {
                event.preventDefault();
        
                let formData = new FormData(this);
        
                fetch(this.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                }).then(response => {
                    if (response.ok) {
                        alert('Form successfully submitted');
                        this.reset();
                    } else {
                        throw new Error('Network response was not ok.');
                    }
                }).catch(error => {
                    alert('There has been a problem with your fetch operation: ' + error.message);
                });
            });
        </script>        
    </body>

</html>